<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¯æ—¥é¥®é£ŸæŠ½å¡</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f8f1; /* ç±³ç™½ */
      color: #2e5939; /* æ·±ç»¿è‰² */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    h1 {
      color: #4caf50; /* å¥åº·ç»¿è‰² */
    }
    button {
      padding: 1rem 2rem;
      background-color: #a8d5ba;
      border: none;
      border-radius: 8px;
      font-size: 1.2rem;
      cursor: pointer;
      margin-top: 1rem;
    }
    #card {
      margin-top: 2rem;
      padding: 1.5rem;
      background-color: #ffffff;
      border: 2px solid #c8e6c9;
      border-radius: 10px;
      max-width: 400px;
      text-align: left;
    }
  </style>
</head>
<body>
  <h1>ğŸŒ± æ¯æ—¥é¥®é£ŸæŠ½å¡</h1>
  <div id="card">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹æŠ½å¡ï¼</div>
  <button onclick="drawCard()">æŠ½ä¸€å¼ å¡</button>

  <script>
    const cards = {
      R: [
        { name: 'é»‘æ¤’é¸¡èƒ¸è‚‰ç‚’ç”œæ¤’', ingredients: 'é¸¡èƒ¸150gï¼Œçº¢é»„æ¤’å„50gï¼Œæ´‹è‘±30g', cal: '350 kcal' },
        { name: 'é…±é¦™çƒ¤é¸¡è…¿æ’', ingredients: 'é¸¡è…¿200gï¼Œèœ‚èœœ5gï¼Œé…±æ²¹10ml', cal: '430 kcal' },
        { name: 'é¸¡è›‹ç‰›è‚‰ç‚’é¥­', ingredients: 'ç‰›è‚‰ä¸100gï¼Œé¸¡è›‹1ä¸ªï¼Œç³™ç±³é¥­120g', cal: '520 kcal' },
        { name: 'é¸¡èƒ¸è—œéº¦æ²™æ‹‰', ingredients: 'é¸¡èƒ¸100gï¼Œè—œéº¦80gï¼Œè¥¿çº¢æŸ¿50g', cal: '400 kcal' },
        { name: 'é¸­èƒ¸ç‚’è¥¿å…°èŠ±', ingredients: 'é¸­èƒ¸120gï¼Œè¥¿å…°èŠ±100g', cal: '420 kcal' },
        { name: 'é’é…±ç‰›è‚‰æ„é¢', ingredients: 'ç‰›è‚‰æœ«100gï¼Œå…¨éº¦æ„é¢80gï¼Œé’é…±20g', cal: '480 kcal' },
        { name: 'è±†è…é¸¡è‚‰ç…²', ingredients: 'é¸¡è…¿è‚‰120gï¼ŒåŒ—è±†è…150gï¼Œé¦™è‡3æœµ', cal: '440 kcal' },
        { name: 'é¦™ç…ç‰›æ’é…å—ç“œæ³¥', ingredients: 'ç‰›æ’150gï¼Œå—ç“œ120gï¼Œæ©„æ¦„æ²¹5g', cal: '500 kcal' },
        { name: 'è™¾ä»ç‚’è›‹', ingredients: 'è™¾ä»80gï¼Œé¸¡è›‹2ä¸ª', cal: '350 kcal' },
        { name: 'é¸¡è‚‰è›‹ç™½ç‚’é¥­', ingredients: 'é¸¡èƒ¸120gï¼Œè›‹ç™½2ä¸ªï¼Œç³™ç±³é¥­100g', cal: '420 kcal' },
        { name: 'é¸­èƒ¸ç…é¥¼å·', ingredients: 'é¸­èƒ¸80gï¼Œå…¨éº¦é¥¼çš®60gï¼Œé»„ç“œæ¡30g', cal: '390 kcal' },
        { name: 'ç…§çƒ§é¸¡è…¿ä¾¿å½“', ingredients: 'é¸¡è…¿150gï¼Œç…§çƒ§é…±15gï¼Œç±³é¥­80g', cal: '480 kcal' },
        { name: 'ç‰›è‚‰ç‚’è‹¦ç“œ', ingredients: 'ç‰›è‚‰ç‰‡100gï¼Œè‹¦ç“œ100g', cal: '370 kcal' },
        { name: 'é‡‘æªé±¼åœŸè±†æ³¥', ingredients: 'é‡‘æªé±¼80gï¼ŒåœŸè±†150gï¼Œé…¸å¥¶é…±20g', cal: '390 kcal' },
        { name: 'é¸¡èƒ¸ç‚–å†¬ç“œ', ingredients: 'é¸¡èƒ¸150gï¼Œå†¬ç“œ200gï¼Œè™¾çš®5g', cal: '350 kcal' },
        { name: 'é»‘æ¤’ç‰›æŸ³é…å—ç“œ', ingredients: 'ç‰›è‚‰ä¸120gï¼Œå—ç“œ120g', cal: '420 kcal' },
        { name: 'é¦™è‘±ç…è›‹é¸­è‚‰é¥­', ingredients: 'é¸­è…¿è‚‰100gï¼Œé¸¡è›‹1ä¸ªï¼Œç³™ç±³é¥­80g', cal: '480 kcal' },
        { name: 'è’¸é¸¡è›‹è™¾ä»ç¢—', ingredients: 'é¸¡è›‹2ä¸ªï¼Œè™¾ä»50g', cal: '300 kcal' },
        { name: 'é¸¡è‚‰ç³™ç±³é¥­å›¢', ingredients: 'é¸¡èƒ¸ç¢100gï¼Œç³™ç±³100gï¼Œç´«èœ', cal: '400 kcal' },
        { name: 'çƒ¤ç‰›è‚‰ä¸‰æ˜æ²»', ingredients: 'ç‰›è‚‰ç‰‡80gï¼Œå…¨éº¦é¢åŒ…60gï¼ŒèŠ¥æœ«é…±', cal: '420 kcal' }
      ],
      SR: [
        { name: 'ç•ªèŒ„é¸¡è›‹é¢', ingredients: 'ç•ªèŒ„150gï¼Œé¸¡è›‹2ä¸ªï¼Œé¢æ¡100g', cal: '520 kcalï¼Œå¿«èµ°40åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'å°å¼å¤è‚‰é¥­', ingredients: 'çŒªè‚‰æœ«120gï¼Œç±³é¥­100gï¼Œå¤è›‹1ä¸ª', cal: '650 kcalï¼Œæ…¢è·‘30åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é…±çˆ†é¸¡ä¸ç›–é¥­', ingredients: 'é¸¡è…¿è‚‰100gï¼Œé’æ¤’50gï¼Œç±³é¥­100g', cal: '580 kcalï¼Œå¥èº«æ“45åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'çº¢çƒ§èŒ„å­ç›–é¥­', ingredients: 'èŒ„å­150gï¼Œè’œï¼Œé…±æ²¹ï¼Œç±³é¥­100g', cal: '580 kcalï¼Œç™»å±±30åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'éŸ­èœé¸¡è›‹æ°´é¥º', ingredients: 'éŸ­èœ50gï¼Œé¸¡è›‹2ä¸ªï¼Œé¥ºå­çš®10å¼ ', cal: '520 kcalï¼Œç‘œä¼½60åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é¦™è‘±é¸¡è‚‰ç…é¥º', ingredients: 'é¸¡è‚‰é¦…100gï¼Œé¥ºå­çš®8å¼ ', cal: '500 kcalï¼Œæš´èµ°50åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'å°ç±³ç²¥+è›‹é¥¼', ingredients: 'å°ç±³ç²¥200mlï¼Œå…¨éº¦é¥¼60gï¼Œé¸¡è›‹1ä¸ª', cal: '480 kcalï¼Œèˆè¹ˆ45åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'ä¸‰é²œé¦„é¥¨', ingredients: 'çŒªè‚‰+è™¾ä»+é¦™è‡ï¼Œé¦„é¥¨çš®12ä¸ª', cal: '510 kcalï¼ŒåŠ¨æ„Ÿå•è½¦25åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'è±†è…ç‚’ç±³ç²‰', ingredients: 'åŒ—è±†è…100gï¼Œç±³ç²‰80gï¼Œèƒ¡èåœ30g', cal: '540 kcalï¼Œæœ‰æ°§è®­ç»ƒ40åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é’æ¤’åœŸè±†ä¸ç›–é¥­', ingredients: 'åœŸè±†150gï¼Œé’æ¤’50gï¼Œç±³é¥­100g', cal: '550 kcalï¼Œè·‘æ­¥40åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é…¸è¾£ç²‰', ingredients: 'çº¢è–¯ç²‰80gï¼Œé…¸è±†è§’ã€è¾£æ²¹ã€èŠ±ç”Ÿ', cal: '600 kcalï¼Œè·³ç»³30åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é¦™è‡æ»‘é¸¡ç„–é¥­', ingredients: 'é¸¡è…¿è‚‰100gï¼Œé¦™è‡50gï¼Œç±³é¥­100g', cal: '560 kcalï¼Œæ™®æ‹‰æ40åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'éŸ­èœç›’å­', ingredients: 'éŸ­èœ50gï¼Œé¸¡è›‹1ä¸ªï¼Œé¢å›¢100g', cal: '480 kcalï¼Œå¿«èµ°45åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'è·å¶ç³¯ç±³é¸¡', ingredients: 'ç³¯ç±³100gï¼Œé¸¡è‚‰80gï¼Œé¦™è‡ï¼Œè›‹é»„', cal: '580 kcalï¼Œå¥èº«æ“45åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'ç²¢é¥­å›¢', ingredients: 'ç³¯ç±³120gï¼Œæ²¹æ¡30gï¼Œè‚‰æ¾10g', cal: '600 kcalï¼Œæ…¢è·‘40åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'çº¢ç³–ç³ç²‘', ingredients: 'ç³¯ç±³ç³ç²‘80gï¼Œçº¢ç³–é…±20g', cal: '420 kcalï¼Œç‘œä¼½60åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'å°ç¬¼åŒ…', ingredients: 'çŒªè‚‰é¦…100gï¼Œå°ç¬¼åŒ…çš®8ä¸ª', cal: '510 kcalï¼Œæ•£æ­¥90åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'æ¡‚èŠ±ç³¯ç±³è—•', ingredients: 'ç³¯ç±³80gï¼Œè—•150gï¼Œçº¢æ£ï¼Œæ¡‚èŠ±é…±', cal: '550 kcalï¼Œå¹³æ¿æ”¯æ’‘+æ·±è¹²æ··åˆ30åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é¸¡è‚‰è‘±æ²¹æ‹Œé¢', ingredients: 'é¸¡èƒ¸è‚‰80gï¼Œé¢æ¡100gï¼Œè‘±æ²¹20g', cal: '540 kcalï¼Œæ…¢éª‘40åˆ†é’ŸæŠµæ¶ˆ' },
        { name: 'é¦„é¥¨é¸¡è›‹é¢', ingredients: 'é¦„é¥¨6ä¸ªï¼Œé¢æ¡80gï¼Œé¸¡è›‹1ä¸ª', cal: '560 kcalï¼Œå¿«èµ°45åˆ†é’ŸæŠµæ¶ˆ' }
      ],
      SSR: [
        { name: 'å¯¿å¸æ‹¼ç›˜', cuisine: 'æ—¥æœ¬æ–™ç†', budget: '$22' },
        { name: 'éº»è¾£é¦™é”…', cuisine: 'å·èœ', budget: '$20' },
        { name: 'çŸ³é”…æ‹Œé¥­', cuisine: 'éŸ©å¼', budget: '$18' },
        { name: 'ç‚¸é¸¡+å•¤é…’', cuisine: 'éŸ©å›½', budget: '$28' },
        { name: 'æ„é¢é…è’œé¦™é¢åŒ…', cuisine: 'æ„å¤§åˆ©é¤', budget: '$24' },
        { name: 'æŠ«è¨+å¯ä¹å¥—é¤', cuisine: 'ç¾å¼', budget: '$25' },
        { name: 'æµ·å—é¸¡é¥­', cuisine: 'æ–°åŠ å¡', budget: '$18' },
        { name: 'æ—¥å¼æ‹‰é¢+ç…é¥º', cuisine: 'æ—¥æœ¬æ–™ç†', budget: '$20' },
        { name: 'å’–å–±é¥­', cuisine: 'æ³°å›½', budget: '$19' },
        { name: 'çƒ§çƒ¤æ‹¼ç›˜', cuisine: 'ä¸­å¼å¤œå®µ', budget: '$26' },
        { name: 'è¥¿å¼æ—©åˆé¤', cuisine: 'æ¾³å¼/è¥¿å¼', budget: '$28' },
        { name: 'ç‰›è‚‰ç‚’ç²‰', cuisine: 'ä¸œå—äºš', budget: '$21' },
        { name: 'å¥¶èŒ¶+ç‚¸é¸¡æ’', cuisine: 'å°å¼', budget: '$20' },
        { name: 'ç±³çº¿å¥—é¤', cuisine: 'äº‘å—é£å‘³', budget: '$18' },
        { name: 'èŠå£«ç„—é¥­', cuisine: 'æ¸¯å¼', budget: '$22' },
        { name: 'éŸ©å¼çƒ¤è‚‰è‡ªåŠ©', cuisine: 'éŸ©å›½', budget: '$45' },
        { name: 'è¶Šå—ç‰›è‚‰ç²‰', cuisine: 'è¶Šå—', budget: '$18' },
        { name: 'è¥¿é¤å…ç‰›æ’+çº¢é…’', cuisine: 'æ¬§å¼', budget: '$50' },
        { name: 'æ„å¼åƒå±‚é¢', cuisine: 'æ„å¤§åˆ©', budget: '$26' },
        { name: 'å¤§ç¢—ç‚¸é…±é¢', cuisine: 'åŒ—æ–¹é¢é£Ÿ', budget: '$20' }
      ]
    };

    let drawCount = 0;
    const limit = 2;
    const resetHour = 12; // æ¯12å°æ—¶åˆ·æ–°
    const lastDrawKey = 'lastDraw';
    const drawCountKey = 'drawCount';

    function drawCard() {
      const now = new Date();
      const lastDraw = new Date(localStorage.getItem(lastDrawKey) || 0);
      const hoursSinceLast = (now - lastDraw) / 36e5;

      if (hoursSinceLast >= resetHour) {
        localStorage.setItem(drawCountKey, '0');
        drawCount = 0;
      } else {
        drawCount = parseInt(localStorage.getItem(drawCountKey) || '0');
      }

      if (drawCount >= limit) {
        document.getElementById('card').innerText = 'ä½ ä»Šå¤©å·²ç»æŠ½è¿‡2æ¬¡å¡å•¦ï¼è¯·12å°æ—¶åå†è¯•ã€‚';
        return;
      }

      const rand = Math.random();
      let pool = 'R';
      if (rand < 0.1) pool = 'SSR';
      else if (rand < 0.4) pool = 'SR';

      const cardList = cards[pool];
      const card = cardList[Math.floor(Math.random() * cardList.length)];

      let display = '';
      if (pool === 'SSR') {
        display = `â­ SSRÂ·åˆ«ç®¡æˆ‘äº†å¡\nã€å¤–é£Ÿã€‘${card.name}\nèœç³»ï¼š${card.cuisine}\né¢„ç®—ï¼š${card.budget}`;
      } else {
        const title = pool === 'R' ? 'RÂ·å¥åº·é¥®é£Ÿå¡' : 'SRÂ·ç¢³æ°´ä¿å‘½å¡';
        display = `ğŸ± ${title}\nã€èœåã€‘${card.name}\nã€é£Ÿæã€‘${card.ingredients}\nã€çƒ­é‡ã€‘${card.cal}`;
      }

      document.getElementById('card').innerText = display;
      drawCount++;
      localStorage.setItem(drawCountKey, drawCount);
      localStorage.setItem(lastDrawKey, now.toISOString());
    }
  </script>
</body>
</html>
